<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>SO2 Web Build</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
    <style>
        body, html { margin: 0; padding: 0; width: 100%; height: 100%; overflow: hidden; background: #0b141a; font-family: sans-serif; color: white; }
        
        /* –¢–∞–±–ª–∏—Ü–∞ —Å—á–µ—Ç–∞ (TAB) */
        #scoreboard { display: none; position: fixed; inset: 0; background: rgba(0,0,0,0.8); z-index: 2000; flex-direction: column; align-items: center; justify-content: center; }
        .score-row { display: flex; justify-content: space-between; width: 80%; padding: 10px; border-bottom: 1px solid #444; }

        /* HUD */
        #hud { display: none; position: fixed; inset: 0; z-index: 100; pointer-events: none; }
        .money { position: absolute; top: 110px; left: 20px; color: #2ecc71; font-size: 24px; font-weight: bold; }
        .top-stats { position: absolute; top: 10px; left: 50%; transform: translateX(-50%); background: rgba(0,0,0,0.6); padding: 5px 20px; border: 1px solid #555; display: flex; gap: 20px; pointer-events: auto; }
        
        /* –ö–æ–º–∞–Ω–¥—ã */
        .overlay { position: fixed; inset: 0; background: #0b141a; display: flex; flex-direction: column; align-items: center; justify-content: center; z-index: 1500; }
        .btn { padding: 20px; margin: 10px; width: 250px; border: none; font-weight: bold; cursor: pointer; color: white; }
    </style>
</head>
<body>

<div id="scoreboard">
    <h2>STANDOFF 2 - SCOREBOARD</h2>
    <div class="score-row" style="color: #3498db;"><span>CT TEAM</span> <span>5 –ü–ª–µ–µ—Ä—Å</span></div>
    <div class="score-row" style="color: #e67e22;"><span>T TEAM</span> <span>5 –ü–ª–µ–µ—Ä—Å</span></div>
    <p>–ù–∞–∂–º–∏ –µ—â–µ —Ä–∞–∑ –Ω–∞ —Å—á–µ—Ç, —á—Ç–æ–±—ã –∑–∞–∫—Ä—ã—Ç—å</p>
</div>

<div id="team-select" class="overlay">
    <h1>–í–´–ë–û–† –°–¢–û–†–û–ù–´</h1>
    <button class="btn" style="background: #e67e22;" onclick="selectTeam('T')">–¢–ï–†–†–û–†–ò–°–¢–´ (–ë–∞–Ω–¥–∞–Ω–∞)</button>
    <button class="btn" style="background: #3498db;" onclick="selectTeam('CT')">–°–ü–ï–¶–ù–ê–ó (–ö–µ–ø–∫–∞)</button>
</div>

<div id="hud">
    <div class="top-stats" onclick="toggleScore()">
        <span style="color: #3498db;">0</span> <span>02:00</span> <span style="color: #e67e22;">0</span>
    </div>
    <div class="money" id="m-val">$1000</div>
    <div style="position: absolute; bottom: 50px; right: 50px; width: 80px; height: 80px; background: rgba(255,255,255,0.1); border-radius: 50%; border: 2px solid #fff; pointer-events: auto; display: flex; align-items: center; justify-content: center;" onclick="fire()">üî•</div>
</div>

<script>
    let cash = 1000;
    const scene = new THREE.Scene();
    scene.background = new THREE.Color(0xd2b48c); // Sandstone
    const camera = new THREE.PerspectiveCamera(75, window.innerWidth/window.innerHeight, 0.1, 1000);
    const renderer = new THREE.WebGLRenderer({ antialias: true });

    function selectTeam(t) {
        document.getElementById('team-select').style.display = 'none';
        document.getElementById('hud').style.display = 'block';
        document.body.appendChild(renderer.domElement);
        initGame();
        loop();
    }

    function toggleScore() {
        const s = document.getElementById('scoreboard');
        s.style.display = s.style.display === 'flex' ? 'none' : 'flex';
    }

    function initGame() {
        const floor = new THREE.Mesh(new THREE.PlaneGeometry(100, 100), new THREE.MeshStandardMaterial({color: 0xbc9b6a}));
        floor.rotation.x = -Math.PI/2; scene.add(floor);
        scene.add(new THREE.AmbientLight(0xffffff, 0.8));
        camera.position.set(0, 1.7, 5);

        // –°–ø–∞–≤–Ω–∏–º –°–ø–µ—Ü–Ω–∞–∑
        for(let i=0; i<5; i++) {
            const bot = new THREE.Group();
            const body = new THREE.Mesh(new THREE.BoxGeometry(0.6, 1, 0.3), new THREE.MeshStandardMaterial({color: 0x2980b9}));
            const cap = new THREE.Mesh(new THREE.BoxGeometry(0.3, 0.05, 0.3), new THREE.MeshStandardMaterial({color: 0x222}));
            body.position.y = 1; cap.position.set(0, 1.85, 0.1);
            bot.add(body, cap);
            bot.position.set(Math.random()*10-5, 0, -10);
            scene.add(bot);
        }
    }

    function fire() {
        cash += 300;
        document.getElementById('m-val').innerText = "$" + cash;
        camera.position.y += 0.05; // –≠—Ñ—Ñ–µ–∫—Ç –æ—Ç–¥–∞—á–∏
        setTimeout(() => camera.position.y -= 0.05, 50);
    }

    function loop() {
        requestAnimationFrame(loop);
        renderer.render(scene, camera);
    }

    window.onresize = () => {
        renderer.setSize(window.innerWidth, window.innerHeight);
        camera.aspect = window.innerWidth / window.innerHeight;
        camera.updateProjectionMatrix();
    };
    renderer.setSize(window.innerWidth, window.innerHeight);
</script>
</body>
</html>
